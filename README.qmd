---
format: gfm
knitr:
  opts_chunk:
    collapse: true
    comment: ''
    fig.path: "man/figures/README-"
---

<!-- README.md is generated from README.qmd. Please edit that file -->

```{r}
#| label: pkg_load
#| echo: false
#| message: false
use("nemo")
```

```{r}
#| label: opts
#| echo: false
options(width = 100)
```

<a href="https://umccr.github.io/nemo"><img src="man/figures/logo.png" alt="logo" align="left" height="100" /></a>

# üê¢ Tidy and Explore Bioinformatic Pipeline Outputs

[![conda-latest1]](https://anaconda.org/umccr/r-nemo)
[![gha]](https://github.com/umccr/nemo/actions/workflows/deploy.yaml)

[conda-latest1]: <https://anaconda.org/umccr/r-nemo/badges/latest_release_date.svg> "Conda Latest Release"
[gha]: <https://github.com/umccr/nemo/actions/workflows/deploy.yaml/badge.svg> "GitHub Actions"

- üìö Docs: <https://umccr.github.io/nemo>
  - [Installation](https://umccr.github.io/nemo/articles/installation)
  - [R6 structure](https://umccr.github.io/nemo/articles/structure)
  - [Changelog](https://umccr.github.io/nemo/articles/NEWS)

## Overview

{nemo} is an R package that contains the building blocks for parsing, tidying,
and writing bioinformatic pipeline results in a more consistent structure.

In short, it traverses through a directory containing results from one or more
runs of certain bioinformatic tools, parses any files it recognises, tidies
them up (which includes data reshaping, normalisation, column name cleanup etc.),
and writes them to the output format of choice e.g. Apache Parquet, PostgreSQL,
TSV, RDS.

The specific tools it can handle are controlled by configuration files written
in YAML that are part of 'child' {nemo} packages, like {[tidywigits]} and
{[dracarys]}. These configuration files (under `inst/config` in those respective
packages) specify the schemas, types, patterns and field descriptions
for the _raw_ input _files_ and _tidy_ output _tbls_.

[tidywigits]: <https://github.com/umccr/tidywigits> "tidywigits"
[dracarys]: <https://github.com/umccr/dracarys> "dracarys"

## üçï Installation

{{< include /inst/documentation/installation/_r.qmd >}}

Alternatively:

- conda package: <https://anaconda.org/umccr/r-nemo>

For more details see: <https://umccr.github.io/nemo/articles/installation>

## üåÄ CLI

A `nemo.R` command line interface is available for convenience.

- If you're using the conda package, the `nemo.R` command will already be
  available inside the activated conda environment.
- If you're _not_ using the conda package, you need to export the
  `nemo/inst/cli/` directory to your `PATH` in order to use `nemo.R`.

```{bash}
#| label: cli1
#| echo: true
#| eval: false
nemo_cli=$(Rscript -e 'x = system.file("cli", package = "nemo"); cat(x, "\n")' | xargs)
export PATH="${nemo_cli}:${PATH}"
```

```{bash}
#| label: cli2
#| echo: false
nemo_cli=$(Rscript -e 'x = system.file("cli", package = "nemo"); cat(x, "\n")' | xargs)
export PATH="${nemo_cli}:${PATH}"

echo "$ nemo.R --version" & nemo.R --version
echo ""
echo "#-----------------------------------#"
echo "$ nemo.R --help" & nemo.R --help
echo "'"
echo "#-----------------------------------#"
echo "$ nemo.R tidy --help" & nemo.R tidy --help
echo ""
echo "#-----------------------------------#"
echo "$ nemo.R list --help" & nemo.R list --help
echo ""
```
